!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class a{constructor(e,t,n){this.keyboardCodes=[];e.forEach((e,a)=>{Array.isArray(e)?this.keyboardCodes.push({keyCode:e[0],location:e[1],key:t[a],keyS:n[a]}):this.keyboardCodes.push({keyCode:e,location:0,key:t[a],keyS:n[a]})})}}class s{constructor(){this.container={}}static createKeys(){const e=document.createDocumentFragment(),t=[13,29,41,42,56];for(let n=0;n<65;n+=1){const a=document.createElement("div");a.classList.add("key"),a.setAttribute("data-id",n),a.innerHTML=n,-1!==t.indexOf(n)&&a.classList.add("wide"),59===n&&a.classList.add("space"),e.appendChild(a)}return 0===sessionStorage.length&&sessionStorage.setItem("lang","eng"),e}static insertKeyboardInDOM(e){document.querySelector(".keyboard").appendChild(e)}createKeyboard(){const e=s.createKeys();return s.insertKeyboardInDOM(e),this}init(){return 0===sessionStorage.length&&sessionStorage.setItem("lang","eng"),this.createKeyboard(),this}start(){this.container={};const e=[192,49,50,51,52,53,54,55,56,57,48,189,187,8,9,81,87,69,82,84,89,85,73,79,80,219,221,220,46,20,65,83,68,70,71,72,74,75,76,186,222,[13,0],[16,1],226,90,88,67,86,66,78,77,188,190,191,38,[16,2],[17,1],[91,1],[18,1],32,[18,2],[17,2],37,40,39],t=document.querySelector(".keyboard"),n=document.querySelector("#output"),s=[42,55],r=[56,61],c=[57,58,60];let i=!1,o=!1;const l=new Set;let d=0;const u=new a(e,["`","1","2","3","4","5","6","7","8","9","0","-","=","backspace","tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","del","caps lock","a","s","d","f","g","h","j","k","l",";","'","enter","shift","\\","z","x","c","v","b","n","m",",",".","/","▲","shift","ctrl","win","alt"," ","alt","ctrl","◀","▼","▶"],["~","!","@","#","$","%","^","&","*","(",")","_","+","backspace","tab","q","w","e","r","t","y","u","i","o","p","{","}","|","del","caps lock","a","s","d","f","g","h","j","k","l",":",'"',"enter","shift","|","z","x","c","v","b","n","m","<",">","?","▲","shift","ctrl","win","alt"," ","alt","ctrl","◀","▼","▶"]),f=new a(e,["ё","1","2","3","4","5","6","7","8","9","0","-","=","backspace","tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","del","caps lock","ф","ы","в","а","п","р","о","л","д","ж","э","enter","shift","\\","я","ч","с","м","и","т","ь","б","ю",".","▲","shift","ctrl","win","alt"," ","alt","ctrl","◀","▼","▶"],["ё","!",'"',"№",";","%",":","?","*","(",")","_","+","backspace","tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","/","del","caps lock","ф","ы","в","а","п","р","о","л","д","ж","э","enter","shift","/","я","ч","с","м","и","т","ь","б","ю",",","▲","shift","ctrl","win","alt"," ","alt","ctrl","◀","▼","▶"]);function y(){return"rus"===sessionStorage.getItem("lang")?f.keyboardCodes:"eng"===sessionStorage.getItem("lang")?u.keyboardCodes:null}function h(){!function(e){const n=t.querySelectorAll(".key");if(o)for(let t=0;t<n.length;t+=1)n[t].innerHTML=e[t].keyS.toUpperCase();else for(let t=0;t<n.length;t+=1)n[t].innerHTML=e[t].key.toLowerCase()}(y()),function(){const e=t.querySelectorAll(".key");if(i)for(let t=0;t<e.length;t+=1)e[t].innerHTML=e[t].innerHTML.toUpperCase();else for(let t=0;t<e.length;t+=1)e[t].innerHTML=e[t].innerHTML.toLowerCase()}()}function p(e,t,n=0){for(let a=0;a<e.length;a+=1)if(e[a].keyCode===t&&e[a].location===n)return a;return-1}function k(e){n.selectionStart=d,n.focus();const t=n.value.slice(0,d),a=n.value.slice(d);var s;n.innerHTML=t+(s=e,i?s.toUpperCase():s)+a,d=t.length+e.length,n.selectionStart=d,n.focus()}function b(){n.selectionStart=d,n.focus();const e=n.value.slice(0,d),t=n.value.slice(d+1);n.innerHTML=e+t,d=e.length,n.selectionStart=d,n.focus()}function v(){n.selectionStart=d,n.focus();const e=d<=0?"":n.value.slice(0,d-1),t=n.value.slice(d);n.innerHTML=e+t,d=e.length,n.selectionStart=d,n.focus()}function m(){k("    ")}function L(){k("\n")}function g(){"eng"===sessionStorage.getItem("lang")?sessionStorage.setItem("lang","rus"):sessionStorage.setItem("lang","eng")}function S(){t.querySelector(".key:nth-child(43)").classList.remove("active"),t.querySelector(".key:nth-child(56)").classList.remove("active"),t.querySelector(".key:nth-child(57)").classList.remove("active"),t.querySelector(".key:nth-child(62)").classList.remove("active")}function C(){l.has(16)&&l.has(17)&&(g(),h(),S(),o=!o,l.delete(17),l.delete(16),h())}function w(e){const n=+e.target.dataset.id;switch(!0){case 29===n:!function(e){i=!i,i?e.target.classList.add("active"):e.target.classList.remove("active"),h()}(e);break;case 14===n:m();break;case 41===n:L();break;case 13===n:v();break;case 28===n:b();break;case-1!==s.indexOf(n):!function(){const e=t.querySelector(".key:nth-child(43)"),n=t.querySelector(".key:nth-child(56)");o=!o,o?(e.classList.add("active"),n.classList.add("active"),l.add(16)):(e.classList.remove("active"),n.classList.remove("active"),l.delete(16)),C(),h()}();break;case-1!==c.indexOf(n):break;case-1!==r.indexOf(n):!function(){const e=t.querySelector(".key:nth-child(57)"),n=t.querySelector(".key:nth-child(62)");l.has(17)?(e.classList.remove("active"),n.classList.remove("active"),l.delete(17)):(e.classList.add("active"),n.classList.add("active"),l.add(17)),C()}();break;default:!function(e){const{id:t}=e.target.dataset;let n=y();n=o?n[t].keyS.toUpperCase():n[t].key,k(n)}(e)}}function q(){l.has(16)&&l.has(17)&&(g(),h(),l.delete(16),l.delete(17),S())}function x(e,t){switch(function(e){e.classList.contains("active")||e.classList.add("active")}(e),!0){case 29===t:break;case 14===t:m();break;case 41===t:L();break;case 13===t:v();break;case 28===t:b();break;case-1!==s.indexOf(t):o=!0,h(),l.add(16);break;case-1!==c.indexOf(t):break;case-1!==r.indexOf(t):l.add(17);break;default:!function(e){let t=y();t=o?t[e].keyS.toUpperCase():t[e].key,k(t)}(t)}}function E(e,t){switch(function(e){e.classList.contains("active")&&e.classList.remove("active")}(e),!0){case 29===t:!function(e){i=!i,i?e.classList.add("active"):e.classList.remove("active"),h()}(e);break;case-1!==s.indexOf(t):o=!1,h(),q(),l.delete(16),S();break;case-1!==r.indexOf(t):h(),q(),l.delete(17),S()}}h(),t.addEventListener("mousedown",e=>{e.target.classList.contains("key")&&e.target.classList.add("pushed")}),t.addEventListener("mouseup",e=>{e.target.classList.contains("key")&&e.target.classList.remove("pushed")}),t.addEventListener("mouseout",e=>{e.target.classList.contains("key")&&e.target.classList.remove("pushed")}),t.addEventListener("click",e=>{e.target.classList.contains("key")&&w(e)}),n.addEventListener("click",e=>{d=e.toElement.selectionEnd}),window.addEventListener("keydown",e=>{e.preventDefault();const n=p(y(),e.keyCode,e.location);if(-1!==n){x(t.querySelector(`.key:nth-child(${n+1})`),n)}}),window.addEventListener("keyup",e=>{e.preventDefault();const n=p(y(),e.keyCode,e.location);if(-1!==n){E(function(e){return t.querySelector(`.key:nth-child(${e+1})`)}(n),n)}})}}const r=new class{constructor(){this.container={}}createContainer(){const e=document.createElement("div");e.classList.add("wrapper"),this.container=e}createHeader(){const e=document.createElement("h1");e.innerHTML="Virtual Keyboard",this.container.appendChild(e)}createContainerForInputAndKeyboard(){const e=document.createElement("div");e.classList.add("keyboard-container"),this.container.appendChild(e)}createTextarea(){const e=document.createElement("textarea");e.classList.add("output-textarea"),e.name="output-textarea",e.id="output",e.setAttribute("autofocus",""),this.container.querySelector(".keyboard-container").appendChild(e)}createKeyboardDiv(){const e=document.createElement("div");e.classList.add("keyboard"),this.container.querySelector(".keyboard-container").appendChild(e)}createHelp(){let e=document.createElement("p");e.classList.add("description"),e.innerHTML="EN/RU &mdash; ctrl + shift",this.container.querySelector(".keyboard-container").appendChild(e),e=document.createElement("p"),e.classList.add("description"),e.innerHTML="made for Windows",this.container.querySelector(".keyboard-container").appendChild(e)}createDom(){return this.createContainer(),this.createHeader(),this.createContainerForInputAndKeyboard(),this.createTextarea(),this.createKeyboardDiv(),this.createHelp(),this.container}};document.querySelector("body").appendChild(r.createDom()),(new s).init().start()}]);